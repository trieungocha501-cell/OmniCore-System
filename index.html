<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>H·ªá Th·ªëng Gi·∫£i M√£</title>
    <style>
        :root { --neon: #00ff00; --bg: #000; }
        body { background: var(--bg); color: var(--neon); font-family: 'Courier New', monospace; padding: 30px; }
        .container { max-width: 900px; margin: auto; border: 2px solid var(--neon); padding: 20px; box-shadow: 0 0 20px var(--neon); background: #050505; border-radius: 15px; }
        h1 { text-align: center; text-shadow: 0 0 10px var(--neon); letter-spacing: 5px; }
        
        .flex-box { display: flex; gap: 20px; margin-top: 20px; }
        .section { flex: 1; display: flex; flex-direction: column; gap: 10px; }
        
        textarea { width: 100%; height: 120px; background: #000; color: var(--neon); border: 1px solid var(--neon); padding: 10px; font-size: 18px; outline: none; box-sizing: border-box; }
        button { background: var(--neon); color: #000; padding: 12px; border: none; font-weight: bold; cursor: pointer; border-radius: 5px; transition: 0.3s; }
        button:hover { background: #fff; box-shadow: 0 0 15px #fff; }
        
        .output { min-height: 80px; border-top: 1px dashed #444; margin-top: 10px; padding: 10px; color: #fff; font-size: 20px; word-break: break-all; }
        h3 { margin: 5px 0; color: var(--neon); font-size: 16px; border-left: 4px solid var(--neon); padding-left: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>üíª H·ªá Th·ªëng Gi·∫£i M√£</h1>

    <div class="flex-box">
        <div class="section">
            <h3>M√£ H√≥a (Ch·ªØ sang S·ªë)</h3>
            <textarea id="textInp" placeholder="Nh·∫≠p n·ªôi dung  (V√≠ d·ª•:Xin ch√†o...)"></textarea>
            <button onclick="encodeV8()">M√É H√ìA ‚Üë</button>
            <div id="encodeRes" class="output"></div>
        </div>

        <div class="section">
            <h3>GI·∫¢I M√É (S·ªë sang Ch·ªØ)</h3>
            <textarea id="codeInp" placeholder="Nh·∫≠p m√£ s·ªë... (V√≠ d·ª•: 7674 70^1)"></textarea>
            <button onclick="decodeV8()">GI·∫¢I M√É ‚Üì</button>
            <div id="decodeRes" class="output"></div>
        </div>
    </div>
</div>

<script>
    // B·∫£ng quy t·∫Øc V8 x·ªãn nh·∫•t c·ªßa b·∫°n
    const rules = {
        "c·ªßa": "7674", "t√¥i": "70^1", "th·∫•y": "744^'1/7", "n√†y": "54`1/", "ƒë": "-13", 
        "th": "74", "g": "6*", "y": "1/", "b": "13", "√¢": "4^", "√™": "3^", "√¥": "0^",
        "a": "4", "m": "3", "n": "5", "u": "6", "o": "0", "i": "1", "t": "7",
        "√°": "4'", "√†": "4`", "·∫°": "4.", "·∫£": "47", "√£": "4~",
        "·∫•": "4^'", "·∫ß": "4^`", "·∫≠": "4^.", "·∫©": "4^7", "·∫´": "4^~",
        "·∫ø": "3^'", "·ªÅ": "3^`", "·ªá": "3^.", "·ªÉ": "3^7", "·ªÖ": "3^~",
        "√≥": "0'", "√≤": "0`", "·ªç": "0.", "·ªè": "07", "√µ": "0~",
        "·ªë": "0^'", "·ªì": "0^`", "·ªô": "0^.", "·ªï": "0^7", "·ªó": "0^~",
        "√∫": "6'", "√π": "6`", "·ª•": "6.", "·ªß": "67", "≈©": "6~",
        "√≠": "1'", "√¨": "1`", "·ªã": "1.", "·ªâ": "17", "ƒ©": "1~",
        "√Ω": "1/'", "·ª≥": "1/`", "·ª∑": "1/7", "·ªπ": "1/~"
    };

    function encodeV8() {
        let text = document.getElementById('textInp').value.toLowerCase().trim();
        if (!text) return;

        let words = text.split(/\s+/);
        let result = words.map(w => {
            // Ki·ªÉm tra t·ª´ kh√≥a ƒë·∫∑c bi·ªát tr∆∞·ªõc
            if (rules[w]) return rules[w];
            
            let coded = w;
            // Thay th·∫ø c√°c c·ª•m ch·ªØ c√°i v√† d·∫•u theo quy t·∫Øc V8
            // (Th·ª±c hi·ªán thay th·∫ø t·ª´ c·ª•m d√†i ƒë·∫øn k√Ω t·ª± ƒë∆°n)
            Object.keys(rules).sort((a,b) => b.length - a.length).forEach(key => {
                let regex = new RegExp(key, 'g');
                coded = coded.replace(regex, rules[key]);
            });
            return coded;
        });
        document.getElementById('encodeRes').innerText = result.join(' ');
    }

    function decodeV8() {
        let input = document.getElementById('codeInp').value.trim();
        if (!input) return;

        let words = input.split(/\s+/);
        let result = words.map(w => {
            if (w === "7674") return "c·ªßa";
            if (w === "70^1") return "t√¥i";

            let t = w.replace(/74/g, 'th').replace(/-13/g, 'ƒë').replace(/6\*/g, 'g')
                     .replace(/1\//g, 'y').replace(/13/g, 'b')
                     .replace(/4\^/g, '√¢').replace(/3\^/g, '√™').replace(/0\^/g, '√¥');

            const map = {'4':'a', '3':'m', '5':'n', '6':'u', '0':'o', '1':'i', '7':'t'};
            let out = "";
            for (let i = 0; i < t.length; i++) {
                if (t[i] === '7' && i > 0) out += '?'; 
                else out += map[t[i]] || t[i];
            }

            out = out.replace(/√¢'/g, '·∫•').replace(/√™'/g, '·∫ø').replace(/a'/g, '√°').replace(/√¥'/g, '·ªë').replace(/u'/g, '√∫').replace(/i'/g, '√≠');
            out = out.replace(/√¢\./g, '·∫≠').replace(/√™\./g, '·ªá').replace(/a\./g, '·∫°').replace(/u\./g, '·ª•').replace(/i\./g, '·ªã');
            out = out.replace(/·∫•\?/g, '·∫•y').replace(/√¢\?/g, '·∫©').replace(/√™\?/g, '·ªÉ').replace(/a\?/g, '·∫£').replace(/u\?/g, '·ªß').replace(/o\?/g, '·ªè').replace(/i\?/g, '·ªâ').replace(/y\?/g, '·ª∑');
            out = out.replace(/a`/g, '√†').replace(/u`/g, '√π').replace(/i`/g, '√¨').replace(/y`/g, '·ª≥').replace(/a~/g, '√£');
            
            return out;
        });
        document.getElementById('decodeRes').innerText = result.join(' ');
    }
</script>
</body>
</html>